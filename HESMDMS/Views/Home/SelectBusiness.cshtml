

<!-- Include Select2 CSS -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/css/select2.min.css" rel="stylesheet" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/js/select2.min.js"></script>


@{ 
<div class="col-lg-12 col-md-12 col-xl-12">
    <div class="card card-block card-stretch card-height">
        <div class="card-header d-flex justify-content-between  align-items-start ">
            <div class="header-title">
                <h4 class="card-title">Select Meter Number</h4>
            </div>

        </div>
        <div class="card-body">
            @using (Html.BeginForm("SelectedBusiness", "Home", FormMethod.Post, new { enctype = "multipart/form-data", id = "profilepicture" }))
            {
                <div class="new-user-info">
                    <div class="form-group">
                        <select id="bpDropdown" style="width: 100%;" name="BP">
                            <!-- Options will be added dynamically -->
                        </select>
                    </div>
                    <hr>

                    <input type="submit" class="btn btn-primary" value="Load Data" />
                </div>
            }
        </div>
    </div>
</div>
    var serializer = new System.Web.Script.Serialization.JavaScriptSerializer();
    serializer.MaxJsonLength = Int32.MaxValue;
    var jsonModel = serializer.Serialize(ViewBag.BP);
<script>
    var meterList = @Html.Raw(jsonModel);
    console.log(meterList);
     $(document).ready(function() {
        // Assuming ViewBag.BP is somethig like [{"id": 1, "name": "Option1"}, ...]
         var data = JSON.parse(meterList);

        // Populate the dropdown
         if (Array.isArray(data)) {
             // Populate the dropdown
             data.forEach(function (item) {
                 $('#bpDropdown').append($('<option></option>').attr('value', item.Number).text(item.Number));
             });
         }

        // Initialize Select2
        $('#bpDropdown').select2({
            placeholder: "Select an option",
            allowClear: true
        });
    });
    $(() => {
        //const searchBox = $('#searchBox').dxSelectBox({
        //    dataSource: JSON.parse(meterList),
        //    displayExpr: 'Number',
        //    valueExpr: 'Number',
        //    height: 50,
        //    name:'BP',
        //    searchEnabled: true,
        //}).dxSelectBox('instance');
        //$('#searchBox').dxSelectBox({

        //    dataSource: DevExpress.data.AspNet.createStore({
        //        key: "ID",
        //        loadUrl: "/SelectBus",
        //    }),
        //    displayExpr: 'Number',
        //    height: 50,
        //    valueExpr: 'Number',
        //}).dxSelectBox('instance');
    });
</script>
    }